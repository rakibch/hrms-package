/*!
 * @he-tree/dnd-utils v0.1.0-alpha.4
 * Author: phphe <phphe@outlook.com> (https://github.com/phphe)
 * Homepage: null
 * Released under the MIT License.
 */
var dndUtils=function(e){"use strict";
/*!
   * helper-js v3.1.2
   * Author: phphe <phphe@outlook.com> (https://github.com/phphe)
   * Homepage: null
   * Released under the MIT License.
   */function n(e,n){return Object.keys(n).forEach((t=>{!function(e,n,t){e.hasOwnProperty(n)||(e[n]=t)}(e,t,n[t])})),e}function t(e,n){for(;;){if(null==e.parentNode)return!1;if(e.parentNode===n)return!0;e=e.parentNode}}function r(e,n,t,r){e.addEventListener?e.addEventListener(n,t,r):e.attachEvent&&e.attachEvent("on".concat(n),t,r)}function o(e,n,t,r){e.removeEventListener?e.removeEventListener(n,t,r):e.detachEvent&&e.detachEvent("on".concat(n),t,r)}function a(e){let n=[];const t={listening:!1,stop:()=>{if(t.listening){for(const e of n)e();n=[],t.listening=!1}},resume:()=>{if(!t.listening){for(const t of e){r.apply(this,t);const e=()=>o.apply(this,t);n.push(e)}t.listening=!0}}};return t}
/*!
   * drag-event-service v2.0.0
   * Author: phphe <phphe@outlook.com> (https://github.com/phphe)
   * Homepage: null
   * Released under the MIT License.
   */const l={start:["mousedown","touchstart"],move:["mousemove","touchmove"],end:["mouseup","touchend"]},c={isTouch:e=>e.type&&e.type.startsWith("touch"),_getStore:e=>(e._wrapperStore||(e._wrapperStore=[]),e._wrapperStore),on(e,n,t,o){const{args:a,mouseArgs:c,touchArgs:i}=s(o),u=this._getStore(e),g=this,d=function(e){let r;if(g.isTouch(e))r={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,pageX:e.changedTouches[0].pageX,pageY:e.changedTouches[0].pageY,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY,screenX:e.changedTouches[0].screenX,screenY:e.changedTouches[0].screenY};else if(r={x:e.pageX,y:e.pageY,pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY,screenX:e.screenX,screenY:e.screenY},"start"===n&&1!==e.which)return;return t.call(this,e,r)};u.push({handler:t,wrapper:d}),r.call(null,e,l[n][0],d,...a,...c),r.call(null,e,l[n][1],d,...a,...i)},off(e,n,t,r){const{args:a,mouseArgs:c,touchArgs:i}=s(r),u=this._getStore(e);for(let r=u.length-1;r>=0;r--){const{handler:s,wrapper:i}=u[r];t===s&&(o.call(null,e,l[n][0],i,...a,...c),o.call(null,e,l[n][1],i,...a,...c),u.splice(r,1))}}};function s(e){e||(e={});return{args:e.args||[],mouseArgs:e.mouseArgs||[],touchArgs:e.touchArgs||[]}}const i=new Map,u={triggerElement:null,dragElement:null,internal:!1,dropEffect:"none",preventDefault:!1},g=u;function d(e){e.dataTransfer&&(e.dataTransfer.dropEffect=g.dropEffect)}const v={ingoreHTMLTags:["INPUT","TEXTAREA","SELECT","OPTGROUP","OPTION"],ifPreventDefault:e=>!!u.dragElement||g.preventDefault,beforeDragStart(e){},onDragStart(e){},onDrag(e){},onDragEnter(e){},onDragLeave(e){},onDragOver(e){},onDragEnd(e){},onDrop(e){}};let p=null;const f=e=>{p=e,setTimeout((()=>{p=null}),20)};function h(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const l=e;let c=!1;const s=e=>{var t;c=!0,null===(t=n.onEnter)||void 0===t||t.call(n,e),h.resume()},i=e=>{var t;f(e.target),null===(t=n.onDragEnter)||void 0===t||t.call(n,e),c||s(e)},u=e=>{var t;c||s(e),null===(t=n.onDragOver)||void 0===t||t.call(n,e)},g=e=>{var r;null===(r=n.onDragLeave)||void 0===r||r.call(n,e);const o=p;p=null,o&&t(o,l)||function(){var t;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;c=!1,null===(t=n.onLeave)||void 0===t||t.call(n,r),h.stop()}()},d=e=>{var t;null===(t=n.onDrop)||void 0===t||t.call(n,e)},v=e=>{var t;e instanceof KeyboardEvent&&"Escape"!==e.key||(c=!1,h.stop(),null===(t=n.onEndBeforeLeave)||void 0===t||t.call(n,e))},h=a([[e,"drop",v],[window,"mouseup",v],[window,"touchend",v],[window,"keydown",v]]);h.stop();const E=()=>{r(e,"dragenter",i),r(e,"dragover",u),r(e,"dragleave",g),r(e,"drop",d)},D=()=>{o(e,"dragenter",i),o(e,"dragover",u),o(e,"dragleave",g),o(e,"drop",d),h.stop()};return E(),D}return e.context=u,e.defaultOptions=v,e.extendedDND=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i.has(e))throw"Already registered on specified element";const a={...t},l=a;function s(e){var n;const t=e.target;t.nodeType===Node.ELEMENT_NODE&&(g.triggerElement=t);const r=t;if(a.ingoreHTMLTags&&r.tagName&&a.ingoreHTMLTags.find((e=>e.toUpperCase()===r.tagName)))return;const o=null===(n=a.beforeDragStart)||void 0===n?void 0:n.call(a,e);o&&(o.setAttribute("draggable","true"),g.dragElement=o)}function u(e){g.dragElement&&g.dragElement.removeAttribute("draggable")}function p(e){var n;g.internal=!0,null===(n=a.onDragStart)||void 0===n||n.call(a,e),d(e)}function f(e){var n;null===(n=a.onDrag)||void 0===n||n.call(a,e),d(e)}function E(e){var n;null===(n=a.onDragEnd)||void 0===n||n.call(a,e),g.internal=!1,g.dragElement&&g.dragElement.removeAttribute("draggable"),g.triggerElement=null,g.dragElement=null,g.dropEffect="none"}n(a,v),c.on(e,"start",s,{touchArgs:[{passive:!0}]}),c.on(e,"end",u);const D=h(e,{onDragLeave(e){var n;null===(n=a.onDragLeave)||void 0===n||n.call(a,e),d(e)},onDragEnter(e){var n;l.ifPreventDefault(e)&&e.preventDefault(),null===(n=a.onDragEnter)||void 0===n||n.call(a,e),d(e)},onDragOver(e){var n;l.ifPreventDefault(e)&&e.preventDefault(),null===(n=a.onDragOver)||void 0===n||n.call(a,e),d(e)},onDrop(e){var n;l.ifPreventDefault(e)&&e.preventDefault(),null===(n=a.onDrop)||void 0===n||n.call(a,e)},onEnter(e){var n;null===(n=a.onEnter)||void 0===n||n.call(a,e)},onLeave(e){var n;null===(n=a.onLeave)||void 0===n||n.call(a,e)}});r(e,"dragstart",p),r(e,"drag",f),r(e,"dragend",E);const m=()=>{c.off(e,"start",s,{touchArgs:[{passive:!0}]}),o(e,"dragstart",p),o(e,"drag",f),o(e,"dragend",E),D(),i.delete(e)};return Object.assign(a,{root:e,destroy:m}),i.set(e,l),l},e.extendedDropZone=h,e.instances=i,Object.defineProperty(e,"__esModule",{value:!0}),e}({});
//# sourceMappingURL=index.iife.js.map
