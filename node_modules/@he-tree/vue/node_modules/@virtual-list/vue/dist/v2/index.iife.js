var virtualListVue=function(l){"use strict";/*!
 * @virtual-list/vue
 * Author: phphe <phphe@outlook.com> (https://github.com/phphe)
 * Homepage: https://virtual-list.phphe.com
 * Released under the MIT License.
 *//*!
 * helper-js v3.1.5
 * Author: phphe <phphe@outlook.com> (https://github.com/phphe)
 * Homepage: null
 * Released under the MIT License.
 */function H(t,r){return t<r?t:r}function q(t){return t[t.length-1]}function G(t,r){return t.classList?t.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(t.className)}function $(t,r){return getComputedStyle(t)[r]}function W(t,r){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};a={start:0,end:t.length-1,maxTimes:1e3,...a};let{start:o,end:c}=a;const{returnNearestIfNoHit:y,maxTimes:F}=a;let d,s;o==null&&(o=0,c=t.length-1);let f=0,m;for(;o>=0&&o<=c;){if(f>=F)throw Error("binarySearch: loop times is over ".concat(F,", you can increase the limit."));d=Math.floor((c-o)/2+o),s=t[d];const h=f+1;if(m=r(s,d,h),m>0)c=d-1;else if(m<0)o=d+1;else return{index:d,value:s,count:h,hit:!0};f++}return y?{index:d,value:s,count:f+1,hit:!1,greater:m>0}:null}const J=l.defineComponent({props:{table:Boolean}});var Q=function(){var t=this,r=t.$createElement,a=t._self._c||r;return t.table?a("table",[t._t("prepend"),a("tbody",[t._t("default")],2),t._t("append")],2):a("div",[t._t("prepend"),t._t("default"),t._t("append")],2)},U=[];function O(t,r,a,o,c,y,F,d){var s=typeof t=="function"?t.options:t;r&&(s.render=r,s.staticRenderFns=a,s._compiled=!0);var f;if(c&&(f=c),f)if(s.functional){s._injectStyles=f;var m=s.render;s.render=function(R,_){return f.call(_),m(R,_)}}else{var h=s.beforeCreate;s.beforeCreate=h?[].concat(h,f):[f]}return{exports:t,options:s}}const B={};var X=O(J,Q,U,!1,Y);function Y(t){for(let r in B)this[r]=B[r]}const Z=function(){return X.exports}(),D=l.defineComponent({components:{VirtualListTable:Z},props:{items:Array,disabled:Boolean,horizontal:Boolean,firstRender:{type:Number,default:10},buffer:{type:Number,default:100},itemKey:{type:[String,Function]},itemSize:{type:Function},table:Boolean},setup(t){const r=l.ref(0),a=l.ref(t.firstRender-1),o=l.computed(()=>{var e;return H(a.value,(((e=t.items)==null?void 0:e.length)||1)-1)}),c=l.ref(0),y=l.computed(()=>b.value[r.value]?k(r.value):0),F=l.computed(()=>b.value.length>0?k(b.value.length-1)+q(h.value):0),d=l.computed(()=>b.value[o.value]?F.value-k(o.value)-h.value[o.value]:0),s=l.computed(()=>t.disabled?{}:{overflow:"auto"}),f=l.computed(()=>{const e={display:"flex"};return t.disabled||(t.horizontal?Object.assign(e,{"margin-left":y.value+"px","margin-right":d.value+"px",width:F.value-d.value-y.value+"px"}):Object.assign(e,{"margin-top":y.value+"px","margin-bottom":d.value+"px"})),e["flex-direction"]=t.horizontal?"row":"column",t.table&&(delete e.display,delete e["flex-direction"]),e}),m=l.computed(()=>l.reactive((t.items||[]).map(()=>null))),h=l.computed(()=>(t.items||[]).map((e,n)=>{var S;if(m[n]!=null)return m[n];let i=(S=t.itemSize)==null?void 0:S.call(t,e,n);return i==null&&(i=c.value),i})),b=l.computed(()=>{const e=[];return h.value.reduce((n,i)=>(e.push(n),n+i),0),e});l.watch(()=>t.items,p);const R=l.computed(()=>{if(!t.items||t.disabled)return;const e=[];for(let n=r.value;n<=o.value;n++){const i=t.items[n];if(!i)break;e.push({item:i,index:n})}return e}),_=l.ref(),K=l.ref();l.onMounted(async()=>{p();try{lt()}catch{await l.nextTick(),p()}});let T;function it(){const e=_.value;if(!e)return;const n=N(e);T!=null&&t.buffer-Math.abs(n-T)>=10||(T=n,p())}let w=!1,L=!1;async function p(){var A;if(w){L=!0;return}if(!t.items||t.disabled)return;w=!0;const e=_.value,n=(A=K.value)==null?void 0:A.$el;if(!e||!n)return;c.value||(c.value=ut()),r.value=at(),a.value=st(),await l.nextTick();let i,S=0;const I={},P=t.table?n.querySelector("tbody").children:n.children;for(let v=0;v<P.length;v++){const u=P[v],g=$(u,"position");if(g&&["absolute","fixed"].includes(g))continue;const x=$(u,"display")!=="none"?M(u):0,z=u.getAttribute("vt-index"),C=z?parseInt(z):r.value+S;I[C]=(I[C]||0)+x,S++}for(const v of Object.keys(I)){const u=parseInt(v);m.value[u]!==I[u]&&(m.value[u]=I[u],i=!0)}i&&await l.nextTick(),w=!1,L&&(L=!1,p());function at(){const v=N(e)-V(e)-t.buffer;return W(b.value,g=>g-v,{returnNearestIfNoHit:!0}).index}function st(){const v=N(e)-V(e)+j(e)+t.buffer;return W(b.value,g=>g-v,{returnNearestIfNoHit:!0}).index}function ut(){const u=[],g=t.table?n.querySelector("tbody").children:n.children;for(let x=0;x<g.length;x++){const z=g[x],C=getComputedStyle(z);if(["absolute","fixed"].includes(C.position))continue;const ct=M(z);if(u.push(ct),u.length>=10)break}return u.length===0?0:u.reduce((x,z)=>x+z,0)/u.length}}function j(e){const n=getComputedStyle(e);let i=parseFloat(t.horizontal?n.width:n.height);return n.boxSizing==="border-box"&&(t.horizontal?i=i-parseFloat(n.borderLeftWidth)-parseFloat(n.borderRightWidth):i=i-parseFloat(n.borderTopWidth)-parseFloat(n.borderBottomWidth)),i}function M(e){let n=j(e);const i=getComputedStyle(e);return t.horizontal?n+=parseFloat(i.borderLeftWidth)+parseFloat(i.borderRightWidth)+parseFloat(i.marginLeft)+parseFloat(i.marginRight):n+=parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth)+parseFloat(i.marginTop)+parseFloat(i.marginBottom),n=Number.isNaN(n)?0:n,n}function N(e){return t.horizontal?e.scrollLeft:e.scrollTop}function V(e){const n=getComputedStyle(e);return t.horizontal?parseFloat(n.paddingLeft):parseFloat(n.paddingTop)}function k(e){return b.value[e]}function lt(){const e=_.value;new ResizeObserver(i=>{for(let S of i)if(G(S.target,"vtlist")){p();break}}).observe(e)}function ot(e,n){if(t.itemKey){if(typeof t.itemKey=="string"&&t.itemKey==="index")return n;if(typeof t.itemKey=="function")return t.itemKey(e,n)}}return{listElRef:_,listInnerRef:K,onscroll:it,listStyle:s,listInnerStyle:f,visibleItemsInfo:R,getItemKey:ot,update:p,sizes:h,positions:b,runtimeSizes:m}}});var tt=function(){var t=this,r=t.$createElement,a=t._self._c||r;return a("div",{ref:"listElRef",staticClass:"vtlist",style:t.listStyle,on:{"&scroll":function(o){return t.onscroll.apply(null,arguments)}}},[a("VirtualListTable",{ref:"listInnerRef",staticClass:"vtlist-inner",style:t.listInnerStyle,attrs:{table:t.table},scopedSlots:t._u([{key:"prepend",fn:function(){return[t._t("prepend")]},proxy:!0},{key:"append",fn:function(){return[t._t("append")]},proxy:!0}],null,!0)},[t.disabled?[t._l(t.items,function(o,c){return[t._t("default",null,{item:o,index:c})]})]:[t._l(t.visibleItemsInfo,function(o){var c=o.item,y=o.index;return[t._t("default",null,{item:c,index:y})]})]],2)],1)},et=[];const E={};var nt=O(D,tt,et,!1,rt);function rt(t){for(let r in E)this[r]=E[r]}return function(){return nt.exports}()}(VueDemi);
//# sourceMappingURL=index.iife.js.map
